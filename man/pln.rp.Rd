% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pln_rp.R
\name{pln.rp}
\alias{pln.rp}
\title{Fit a Random Parameters Poisson-Lognormal Model}
\usage{
pln.rp(
  formula,
  rpar_formula,
  data,
  panel = NULL,
  rpardists = NULL,
  ndraws = 1500,
  scrambled = FALSE,
  correlated = FALSE,
  method = "BHHH",
  max.iters = 1000,
  start.vals = NULL,
  verbose = FALSE
)
}
\arguments{
\item{formula}{A standard R formula for the model's fixed parameters.}

\item{rpar_formula}{A one-sided formula specifying the random parameters (e.g., `~ var1 + var2`).}

\item{data}{A data frame containing the variables for the model.}

\item{panel}{A character string specifying the column name in `data` that
identifies the panel groups (e.g., individuals). If `NULL` (the default),
each observation is treated as a separate panel (cross-sectional data).}

\item{rpardists}{An optional named character vector specifying the distribution
for each random parameter. Options: `"n"` (normal), `"ln"` (log-normal),
`"t"` (triangular), `"u"` (uniform), `"g"` (gamma). Defaults to normal for all.}

\item{ndraws}{The number of Halton draws for simulation.}

\item{scrambled}{Logical. If `TRUE`, uses scrambled Halton draws.}

\item{correlated}{Logical. If `TRUE`, estimates correlated random parameters
(forces all to be normally distributed).}

\item{method}{The optimization algorithm to be used by `maxLik::maxLik`.}

\item{max.iters}{Maximum number of iterations for the optimizer.}

\item{start.vals}{An optional named vector of starting values.}

\item{verbose}{True or False for verbose printing of optimization process.}
}
\value{
A list object of class `rpnb` containing the model results, including
  coefficients, variance-covariance matrix, log-likelihood, and other model details.
}
\description{
Estimates a random parameters Poisson-Lognormal (RP-PLN) model using maximum
simulated likelihood. Supports correlated or uncorrelated random parameters,
various parameter distributions, and panel data structures.
}
\examples{
\donttest{

## Random Parameters Poisson Lognormal
data("washington_roads")
pln.rp <- pln.rp(Total_crashes ~ - 1 + lnlength + lnaadt,
               rpar_formula = ~ speed50,
               data = washington_roads,
               ndraws = 100,
               correlated = FALSE,
               rpardists = c(intercept="n", speed50="n"),
               method = "NM",
               verbose = TRUE)
               
summary(pln.rp)
}
}
